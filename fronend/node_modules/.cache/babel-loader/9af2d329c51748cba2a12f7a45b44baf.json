{"remainingRequest":"C:\\xampp\\htdocs\\bank\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\bank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\bank\\node_modules\\mdbvue\\src\\components\\Datatable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\bank\\node_modules\\mdbvue\\src\\components\\Datatable.vue","mtime":1536562766000},{"path":"C:\\xampp\\htdocs\\bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1535983143347},{"path":"C:\\xampp\\htdocs\\bank\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\bank\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.string.fixed\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import classNames from 'classnames';\nimport Tbl from './Table';\nimport TblHead from './TableHead';\nimport TblBody from './TableBody';\nimport Pagination from './Pagination';\nimport PageItem from './PageItem';\nimport mdbInput from './Input';\nvar DatatableSelect;\n\ntry {\n  DatatableSelect = require('./pro/DatatableSelect').default;\n} catch (err) {\n  DatatableSelect = require('./DatatableSelect').default;\n}\n\nvar DatatableSearch;\n\ntry {\n  DatatableSearch = require('./pro/DatatableSearch').default;\n} catch (err) {\n  DatatableSearch = require('./DatatableSearch').default;\n}\n\nvar Datatable = {\n  name: 'Datatable',\n  props: {\n    data: {\n      type: [Object, String],\n      default: function _default() {\n        return {\n          columns: [],\n          rows: []\n        };\n      }\n    },\n    autoWidth: {\n      type: Boolean,\n      default: false\n    },\n    bordered: {\n      type: Boolean,\n      default: false\n    },\n    borderless: {\n      type: Boolean,\n      default: false\n    },\n    dark: {\n      type: Boolean,\n      default: false\n    },\n    fixed: {\n      type: Boolean,\n      default: false\n    },\n    headerColor: {\n      type: String\n    },\n    headerWhite: {\n      type: Boolean,\n      default: false\n    },\n    hover: {\n      type: Boolean,\n      default: false\n    },\n    materialInputs: {\n      type: Boolean,\n      default: false\n    },\n    maxWidth: {\n      type: String\n    },\n    maxHeight: {\n      type: String\n    },\n    order: {\n      type: Array\n    },\n    pagination: {\n      type: Boolean,\n      default: true\n    },\n    responsive: {\n      type: Boolean,\n      default: false\n    },\n    responsiveSm: {\n      type: Boolean,\n      default: false\n    },\n    responsiveMd: {\n      type: Boolean,\n      default: false\n    },\n    responsiveLg: {\n      type: Boolean,\n      default: false\n    },\n    responsiveXl: {\n      type: Boolean,\n      default: false\n    },\n    scrollY: {\n      type: Boolean,\n      defautl: false\n    },\n    searching: {\n      type: Boolean,\n      default: true\n    },\n    sorting: {\n      type: Boolean,\n      default: true\n    },\n    striped: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      rows: this.data.rows || [],\n      columns: this.data.columns || [],\n      options: [10, 25, 50, 100],\n      entries: 10,\n      pages: [],\n      activePage: 0,\n      search: '',\n      tableProps: {\n        autoWidth: this.autoWidth,\n        bordered: this.bordered,\n        borderless: this.borderless,\n        dark: this.dark,\n        fixed: this.fixed,\n        hover: this.hover,\n        responsive: this.responsive,\n        responsiveSm: this.repsonsiveSm,\n        responsiveMd: this.repsonsiveMd,\n        responsiveLg: this.responsiveLg,\n        responsiveXl: this.responsiveXl,\n        striped: this.striped,\n        dtScrollY: this.scrollY,\n        maxHeight: this.maxHeight\n      },\n      wrapperStyle: {\n        maxWidth: this.maxWidth ? this.maxWidth : '100%',\n        margin: '0 auto'\n      }\n    };\n  },\n  components: {\n    DatatableSearch: DatatableSearch,\n    DatatableSelect: DatatableSelect,\n    Tbl: Tbl,\n    TblHead: TblHead,\n    TblBody: TblBody,\n    Pagination: Pagination,\n    PageItem: PageItem,\n    mdbInput: mdbInput\n  },\n  computed: {\n    // filter objects by parameters match\n    filteredRows: function filteredRows() {\n      var _this = this;\n\n      return this.rows.filter(function (row) {\n        for (var key in row) {\n          if (Object.prototype.hasOwnProperty.call(row, key)) {\n            var stringValue = row[key].toString();\n            if (stringValue.toLowerCase().match(_this.search.toLowerCase())) return true;\n          }\n        }\n\n        return false;\n      });\n    }\n  },\n  methods: {\n    changePage: function changePage(index) {\n      this.activePage = index;\n    },\n    sort: function sort(field, _sort) {\n      if (this.sorting) {\n        _sort === 'asc' ? this.rows.sort(function (a, b) {\n          return a[field] > b[field] ? 1 : -1;\n        }) : this.rows.sort(function (a, b) {\n          return a[field] > b[field] ? -1 : 1;\n        });\n        this.columns[this.columns.findIndex(function (column) {\n          return column.field === field;\n        })].sort = _sort === 'asc' ? 'desc' : 'asc';\n      }\n    },\n    updateEntries: function updateEntries(value) {\n      this.entries = value;\n    },\n    updateSearch: function updateSearch(value) {\n      this.search = value;\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    // bind data or download form API\n    if (typeof this.data === 'string') {\n      fetch(this.data).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        _this2.columns = json.columns;\n        _this2.rows = json.rows;\n\n        _this2.$emit('fields', _this2.columns);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    } // findout rows amount, and slice it into array (split into pages)\n\n\n    var pagesAmount = Math.ceil(this.filteredRows.length / this.entries);\n    this.pages = [];\n\n    if (this.pagination) {\n      for (var i = 1; i <= pagesAmount; i++) {\n        var pageEndIndex = i * this.entries;\n        this.pages.push(this.filteredRows.slice(pageEndIndex - this.entries, pageEndIndex));\n      }\n    } else {\n      this.pages.push(this.filteredRows);\n    }\n\n    this.activePage = 0; // initial sorting\n\n    if (this.order) {\n      this.sort(this.columns[this.order[0]].field, this.order[1]);\n    }\n\n    this.$emit('pages', this.pages);\n    this.$emit('fields', this.columns);\n  },\n  watch: {\n    entries: function entries() {\n      // do the split every entry change (changing entries amount)\n      var pagesAmount = Math.ceil(this.filteredRows.length / this.entries);\n      this.pages = [];\n\n      for (var i = 1; i <= pagesAmount; i++) {\n        var pageEndIndex = i * this.entries;\n        this.pages.push(this.filteredRows.slice(pageEndIndex - this.entries, pageEndIndex));\n      }\n\n      this.activePage = this.activePage < this.pages.length ? this.activePage : this.pages.length - 1;\n      this.$emit('pages', this.pages);\n    },\n    filteredRows: function filteredRows() {\n      // do the split on every change in rows (searching)\n      var pagesAmount = Math.ceil(this.filteredRows.length / this.entries);\n      this.pages = [];\n\n      if (this.pagination) {\n        for (var i = 1; i <= pagesAmount; i++) {\n          var pageEndIndex = i * this.entries;\n          this.pages.push(this.filteredRows.slice(pageEndIndex - this.entries, pageEndIndex));\n        }\n      } else {\n        this.pages.push(this.filteredRows);\n      }\n\n      this.activePage = 0;\n      this.$emit('pages', this.pages);\n    }\n  }\n};\nexport default Datatable;\nexport { Datatable as mdbDatatable };",{"version":3,"sources":["Datatable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"dataTables_wrapper\" :style=\"wrapperStyle\">\r\n    <!-- Entries input and search -->\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-12 col-md-6\">\r\n        <div v-if=\"pagination\">\r\n          <datatable-select @getValue=\"updateEntries\" :options=\"options\" />\r\n        </div>\r\n      </div>    \r\n\r\n      <div v-if=\"searching\" class=\"col-sm-12 col-md-6\">\r\n        <datatable-search @getValue=\"updateSearch\" />\r\n      </div>\r\n    </div>\r\n    <!-- Entries input and search -->\r\n\r\n    <!-- Main table -->\r\n    <tbl v-if=\"!scrollY\" v-bind=\"tableProps\" sm datatable>\r\n      <tbl-head :color=\"headerColor\" :textWhite=\"headerWhite\">\r\n        <tr>\r\n          <th \r\n            v-for=\"column in columns\" \r\n            :key=\"column.field\" \r\n            class=\"th-sm sorting\"\r\n            v-on:click=\"sort(column.field, column.sort)\"\r\n          >\r\n            {{column.label}} <i class=\"fa fa-sort float-right\"></i>\r\n          </th>\r\n        </tr>\r\n      </tbl-head>\r\n      <tbl-body>\r\n        <tr v-for=\"row in pages[activePage]\" :key=\"row.id\">\r\n          <td v-for=\"(value, key) in row\" :key=\"key\">\r\n            {{value}}\r\n          </td>\r\n        </tr>\r\n        <tr v-if=\"!pages.length\">\r\n          <td :colspan=\"columns.length\">No matching records found</td>\r\n        </tr>\r\n      </tbl-body>\r\n      <tbl-head tag=\"tfoot\">\r\n        <tr>\r\n          <th \r\n            v-for=\"column in columns\" \r\n            :key=\"column.field+'_foot'\" \r\n            class=\"th-sm sorting\"\r\n          >\r\n            {{column.label}}\r\n          </th>\r\n        </tr>\r\n      </tbl-head>\r\n    </tbl>\r\n    <!-- Main table -->\r\n\r\n    <!-- ScrollY table -->\r\n    <div v-if=\"scrollY\" class=\"dataTables_scroll\">\r\n      <div v-if=\"scrollY\" class=\"dataTables_scrollHead\" style=\"padding-right: 15px\">\r\n        <div class=\"dataTables_scrollHeadInner\">\r\n          <tbl v-bind=\"tableProps\" sm datatable>\r\n            <tbl-head :color=\"headerColor\" :textWhite=\"headerWhite\">\r\n              <tr>\r\n                <th \r\n                  v-for=\"column in columns\" \r\n                  :key=\"column.field\" \r\n                  class=\"th-sm sorting\"\r\n                  v-on:click=\"sort(column.field, column.sort)\"\r\n                >\r\n                  {{column.label}} <i class=\"fa fa-sort float-right\"></i>\r\n                </th>\r\n              </tr>\r\n            </tbl-head>\r\n          </tbl>\r\n        </div>\r\n      </div>\r\n      <tbl v-bind=\"tableProps\" sm datatable>\r\n        <tbl-body>\r\n          <tr v-for=\"row in pages[activePage]\" :key=\"row.id\">\r\n            <td v-for=\"(value, key) in row\" :key=\"key\">\r\n              {{value}}\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"!pages.length\">\r\n            <td :colspan=\"columns.length\">No matching records found</td>\r\n          </tr>\r\n        </tbl-body>\r\n      </tbl>\r\n      <div class=\"dataTables_scrollFoot\" style=\"padding-right: 15px\">\r\n        <div class=\"dataTables_scrollFootInner\">\r\n          <tbl v-bind=\"tableProps\" sm datatable>\r\n            <tbl-head tag=\"tfoot\">\r\n              <tr>\r\n                <th \r\n                  v-for=\"column in columns\" \r\n                  :key=\"column.field+'_foot'\" \r\n                  class=\"th-sm sorting\"\r\n                >\r\n                  {{column.label}}\r\n                </th>\r\n              </tr>\r\n            </tbl-head>\r\n          </tbl>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- ScrollY table -->\r\n\r\n    <!-- Labels and pagination -->\r\n    <div v-if=\"pagination\" class=\"row\">\r\n      <div class=\"col-sm-12 col-md-5\">\r\n        <div class=\"dataTables_info\" role=\"status\" aria-live=\"polite\">\r\n          Showing {{activePage > 0 ? activePage*entries : activePage+1}} to {{pages.length-1 > activePage ? pages[activePage].length*(activePage+1) : filteredRows.length}} of {{filteredRows.length}} entries\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-12 col-md-7\">\r\n        <div class=\"dataTables_paginate\">\r\n          <pagination id=\"pagination\">\r\n            <page-item\r\n              v-on:click.native=\"changePage(activePage-1)\"\r\n              :disabled=\"activePage === 0 ? true : false\"\r\n            >\r\n              Previous\r\n            </page-item>\r\n            <page-item \r\n              v-for=\"(page, index) in pages\" \r\n              :key=\"index\" \r\n              v-on:click.native=\"changePage(index)\"\r\n              :active=\"activePage === index ? true : false\"\r\n            >\r\n              {{index+1}}\r\n            </page-item>\r\n            <page-item\r\n              v-on:click.native=\"changePage(activePage+1)\"\r\n              :disabled=\"activePage === pages.length-1 ? true : false\"\r\n            >\r\n              Next\r\n            </page-item>\r\n          </pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- Labels and pagination -->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import classNames from 'classnames';\r\nimport Tbl from './Table';\r\nimport TblHead from './TableHead';\r\nimport TblBody from './TableBody';\r\nimport Pagination from './Pagination';\r\nimport PageItem from './PageItem';\r\nimport mdbInput from './Input';\r\nlet DatatableSelect;\r\ntry {\r\n  DatatableSelect = require('./pro/DatatableSelect').default;\r\n}\r\ncatch (err) {\r\n  DatatableSelect = require('./DatatableSelect').default;\r\n}\r\nlet DatatableSearch;\r\ntry {\r\n  DatatableSearch = require('./pro/DatatableSearch').default;\r\n}\r\ncatch (err) {\r\n  DatatableSearch = require('./DatatableSearch').default;\r\n}\r\n\r\nconst Datatable = {\r\n  name: 'Datatable',\r\n  props: {\r\n    data: {\r\n      type: [Object, String],\r\n      default: () => ({\r\n        columns: [],\r\n        rows: []\r\n      })\r\n    },\r\n    autoWidth: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    bordered: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    borderless: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    dark: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    fixed: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    headerColor: {\r\n      type: String\r\n    },\r\n    headerWhite: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    hover: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    materialInputs: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    maxWidth: {\r\n      type: String\r\n    },\r\n    maxHeight: {\r\n      type: String\r\n    },\r\n    order: {\r\n      type: Array\r\n    },\r\n    pagination: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    responsive: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    responsiveSm: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    responsiveMd: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    responsiveLg: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    responsiveXl: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    scrollY: {\r\n      type: Boolean,\r\n      defautl: false\r\n    },\r\n    searching: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    sorting: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    striped: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      rows: this.data.rows || [],\r\n      columns: this.data.columns || [],\r\n      options: [10, 25, 50, 100],\r\n      entries: 10,\r\n      pages: [],\r\n      activePage: 0,\r\n      search: '',\r\n      tableProps: {\r\n        autoWidth: this.autoWidth,\r\n        bordered: this.bordered,\r\n        borderless: this.borderless,\r\n        dark: this.dark,\r\n        fixed: this.fixed,\r\n        hover: this.hover,\r\n        responsive: this.responsive,\r\n        responsiveSm: this.repsonsiveSm,\r\n        responsiveMd: this.repsonsiveMd,\r\n        responsiveLg: this.responsiveLg,\r\n        responsiveXl: this.responsiveXl,\r\n        striped: this.striped,\r\n        dtScrollY: this.scrollY,\r\n        maxHeight: this.maxHeight\r\n      },\r\n      wrapperStyle: {\r\n        maxWidth: this.maxWidth ? this.maxWidth : '100%',\r\n        margin: '0 auto' \r\n      }\r\n    };\r\n  },\r\n  components: {\r\n    DatatableSearch,\r\n    DatatableSelect,\r\n    Tbl,\r\n    TblHead,\r\n    TblBody,\r\n    Pagination,\r\n    PageItem,\r\n    mdbInput\r\n  },\r\n  computed: {\r\n    // filter objects by parameters match\r\n    filteredRows() {\r\n      return this.rows.filter(row => {\r\n        for (let key in row) {\r\n          if (Object.prototype.hasOwnProperty.call(row, key)) {\r\n            const stringValue = row[key].toString();\r\n            if (stringValue.toLowerCase().match(this.search.toLowerCase())) return true;\r\n          }\r\n        }\r\n        return false; \r\n      }); \r\n    }\r\n  },\r\n  methods: {\r\n    changePage(index) {\r\n      this.activePage = index;\r\n    },\r\n    sort(field, sort) {\r\n      if (this.sorting) {\r\n        sort === 'asc' ?\r\n          this.rows.sort((a, b) => (a[field] > b[field] ? 1 : -1)) :\r\n          this.rows.sort((a, b) => (a[field] > b[field] ? -1 : 1));\r\n        this.columns[this.columns.findIndex(column => column.field === field)].sort = sort === 'asc' ? 'desc' : 'asc';\r\n      } \r\n    },\r\n    updateEntries(value) {\r\n      this.entries = value;\r\n    },\r\n    updateSearch(value) {\r\n      this.search = value;\r\n    }\r\n  },\r\n  mounted() {\r\n    // bind data or download form API\r\n    if (typeof this.data === 'string') {\r\n      fetch(this.data) \r\n        .then(res => res.json())\r\n        .then(json => {\r\n          this.columns = json.columns;\r\n          this.rows = json.rows;\r\n          this.$emit('fields', this.columns);\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    // findout rows amount, and slice it into array (split into pages)\r\n    const pagesAmount = Math.ceil(this.filteredRows.length / this.entries);\r\n    this.pages = [];\r\n    if (this.pagination) {\r\n      for (let i=1; i<=pagesAmount; i++) {\r\n        const pageEndIndex = i*this.entries;\r\n        this.pages.push(this.filteredRows.slice(pageEndIndex-this.entries, pageEndIndex));\r\n      }\r\n    }\r\n    else {\r\n      this.pages.push(this.filteredRows);\r\n    }\r\n    this.activePage = 0;\r\n\r\n    // initial sorting\r\n    if (this.order) {\r\n      this.sort(this.columns[this.order[0]].field, this.order[1]);\r\n    }\r\n\r\n    this.$emit('pages', this.pages);\r\n    this.$emit('fields', this.columns);\r\n  },\r\n  watch: {\r\n    entries() {\r\n      // do the split every entry change (changing entries amount)\r\n      const pagesAmount = Math.ceil(this.filteredRows.length / this.entries);\r\n      this.pages = [];\r\n      for (let i=1; i<=pagesAmount; i++) {\r\n        const pageEndIndex = i*this.entries;\r\n        this.pages.push(this.filteredRows.slice(pageEndIndex-this.entries, pageEndIndex));\r\n      }\r\n      this.activePage = this.activePage < this.pages.length ? this.activePage : this.pages.length-1;\r\n\r\n      this.$emit('pages', this.pages);\r\n    },\r\n    filteredRows() {\r\n      // do the split on every change in rows (searching)\r\n      const pagesAmount = Math.ceil(this.filteredRows.length / this.entries);\r\n      this.pages = [];\r\n      if (this.pagination) {\r\n        for (let i=1; i<=pagesAmount; i++) {\r\n          const pageEndIndex = i*this.entries;\r\n          this.pages.push(this.filteredRows.slice(pageEndIndex-this.entries, pageEndIndex));\r\n        }\r\n      }\r\n      else {\r\n        this.pages.push(this.filteredRows);\r\n      }\r\n      this.activePage = 0;\r\n\r\n      this.$emit('pages', this.pages);\r\n    } \r\n  }\r\n};\r\n\r\nexport default Datatable;\r\nexport { Datatable as mdbDatatable };\r\n</script>\r\n\r\n<style scoped>\r\n.dataTables-scrollBody {\r\n  display: block;\r\n  overflow-y: auto;\r\n  -ms-overflow-style: -ms-autohiding-scrollbar;\r\n}\r\n\r\n.dataTables-scrollBody td,\r\n.dataTables-scrollBody th {\r\n  white-space: nowrap;\r\n}\r\n</style>"],"sourceRoot":"node_modules\\mdbvue\\src\\components"}]}